{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap f6b74f801cdf0ac9b714","webpack:///./src/index.js"],"names":["LazyLoader","config","callback","that","_instance","forEach","instance","type","_disconnect","_count","document","readyState","push","window","addEventListener","_initImages","_initCustom","_observer","disconnect","entries","observer","entry","intersectionRatio","unobserve","target","_config","_preloadImage","console","err","classList","add","HANDLED_CLASS","rootMargin","threshold","THRESHOLD","els","querySelectorAll","class","warn","SUPPORTS_INTERSECTION_OBSERVER","length","_onIntersection","bind","IntersectionObserver","root","el","contains","observe","thresholds","numSteps","i","ratio","images","DEFAULT_CLASS","log","_loadImagesImmediately","image","src","dataset","Promise","resolve","reject","Image","onload","onerror","then","_applyImage","Array","from","img","querySelector","style","backgroundImage"],"mappings":"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","file":"Library.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Library\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Library\"] = factory();\n\telse\n\t\troot[\"Library\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f6b74f801cdf0ac9b714","/*\n\nForked From https://github.com/GoogleChrome/sample-media-pwa/blob/master/src/client/scripts/helpers/lazy-load-images.js\n\n*/\n\n'use strict'\n\nclass LazyLoader {\n\n  static get SUPPORTS_INTERSECTION_OBSERVER () {\n     return ('IntersectionObserver' in window)\n   }\n\n  static get HANDLED_CLASS () {\n    return 'js-lazy-loaded'\n  }\n\n  static get DEFAULT_CLASS () {\n    return 'js-lazy-image'\n  }\n\n  static get THRESHOLD () {\n    return 0.01\n  }\n\n  static init (config, callback) {\n      var that = this\n\n }\n static init( config, callback) {\n   if(this._instance){\n     this._instance.forEach(instance => {\n       if (instance.type == config.type) {\n         instance._disconnect()\n       }\n     })\n   } else {\n     this._instance = []\n   }\n  this._count = 0\n  if(document.readyState === \"complete\") {\n    this._instance.push(new LazyLoader(config))\n  } else {\n    window.addEventListener(\"DOMContentLoaded\", ()=>{this._instance.push(new LazyLoader(config))})\n  }\n }\n  constructor(config) {\n    switch (config.type) {\n      case 'images':\n      this._initImages(config)\n        break\n      case 'custom':\n      this._initCustom(config)\n        break\n      default:\n      this._initImages()\n    }\n\n  }\n  _disconnect () {\n    if (!this._observer) {\n      return\n    }\n\n    this._observer.disconnect()\n  }\n\n  _onIntersection (entries, observer) {\n    entries.forEach(entry => {\n      if (entry.intersectionRatio < 0.05) {\n        return\n      }\n      this._count--\n      this._observer.unobserve(entry.target)\n      this._config.type === 'images'  && this._preloadImage(entry.target)\n      if (this._config.type === 'custom' && typeof this._config.callback === 'function') this._config.callback(entry.target)\n      else console.err('LazyLoader callback must be a function')\n      entry.target.classList.add(LazyLoader.HANDLED_CLASS)\n    })\n\n    if (this._count > 0) {\n      return\n    }\n    this._observer.disconnect()\n  }\n\n  _importModule () {\n    if (this.type === 'module') {/* import(  `${this.name}` ).then(module =>{ console.log('hello')})*/}\n  }\n  _initCustom(config) {\n\n    this._config = {\n      rootMargin: '0px 0px',\n      threshold: LazyLoader.THRESHOLD,\n      ...config\n    }\n\n    const els = document.querySelectorAll(`.${this._config.class}`)\n\n    if (!els) {\n      console.warn('No Elements Founds')\n      return\n    }\n\n    if (!LazyLoader.SUPPORTS_INTERSECTION_OBSERVER) {\n      typeof this._config.callback === 'function' && this._config.callback('Error: INTERSECTION_OBSERVER isn\\'t supported by your navigator')\n      return\n    }\n    this._count = els.length\n    this._onIntersection = this._onIntersection.bind(this)\n    this._observer = new IntersectionObserver(this._onIntersection, { root: null, rootMargin: this._config.rootMargin,threshold: this._config.threshold})\n    els.forEach(el => {\n      if (el.classList.contains(LazyLoader.HANDLED_CLASS)) {\n        return\n      }\n      this._observer.observe(el)\n    })\n  }\n  _buildThresholdList() {\n    var thresholds = []\n    var numSteps = 10\n    for (var i=1.0; i<=numSteps; i++) {\n      var ratio = i/numSteps\n      thresholds.push(ratio)\n    }\n\n    thresholds.push(0)\n    return thresholds\n  }\n  _initImages () {\n    const images = document.querySelectorAll(`.${LazyLoader.DEFAULT_CLASS}`)\n    this._config = {\n      // If the image gets within 50px in the Y axis, start the download.\n      rootMargin: '0px',\n      threshold: LazyLoader.THRESHOLD\n    }\n\n    if (!LazyLoader.SUPPORTS_INTERSECTION_OBSERVER) {\n      console.log('INTERSECTION_OBSERVER isn\\'t supported by your navigator');\n      this._loadImagesImmediately(images);\n      return\n    }\n\n    this._count = images.length\n    this._onIntersection = this._onIntersection.bind(this)\n    this._observer = new IntersectionObserver(this._onIntersection, this._config)\n    images.forEach(image => {\n      if (image.classList.contains(LazyLoader.HANDLED_CLASS)) {\n        return\n      }\n\n      this._observer.observe(image)\n    })\n  }\n\n  _preloadImage (image) {\n    const src = image.dataset.src\n    if (!src) {\n      return\n    }\n    return new Promise((resolve, reject) => {\n      const image = new Image()\n      image.src = src\n      image.onload = resolve\n      image.onerror = reject\n    }).then(_ => this._applyImage(image, src))\n  }\n\n\n  _loadImagesImmediately (images) {\n    Array.from(images).forEach(image => this._preloadImage(image))\n  }\n\n  _applyImage (img, src) {\n    const el = img.querySelector('.js-lazy-image-content')\n    if (!el) {\n      return\n    }\n    el.style.backgroundImage = `url(${src})`\n    el.classList.add('fade-in')\n  }\n}\n\nexport default LazyLoader\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}